[server]
listen_addr = "127.0.0.1:8787"
public_base_path = "/v1"
upstream_base_url = "https://api.openai.com/v1"
# Override upstream_base_url with CODEX_USAGE_UPSTREAM_BASE_URL to keep Codex CLI free to set OPENAI_BASE_URL when targeting the proxy.

[storage]
database_path = "usage.db"
flush_interval_secs = 5

[display]
recent_events_capacity = 500
refresh_hz = 10

[pricing]
currency = "USD"
default_prompt_per_1k = 0.00125
default_completion_per_1k = 0.0100

[pricing.models."gpt-4.1"]
prompt_per_1k = 0.0020
cached_prompt_per_1k = 0.0005
completion_per_1k = 0.0080

[pricing.models."gpt-4.1-mini"]
prompt_per_1k = 0.00040
cached_prompt_per_1k = 0.00010
completion_per_1k = 0.00160

[pricing.models."gpt-4.1-nano"]
prompt_per_1k = 0.00010
cached_prompt_per_1k = 0.000025
completion_per_1k = 0.00040

[pricing.models."gpt-4o-2024-08-06"]
prompt_per_1k = 0.00250
cached_prompt_per_1k = 0.00125
completion_per_1k = 0.0100

[pricing.models."gpt-4o-mini-2024-07-18"]
prompt_per_1k = 0.00015
cached_prompt_per_1k = 0.000075
completion_per_1k = 0.00060

[pricing.models."o4-mini"]
prompt_per_1k = 0.0040
cached_prompt_per_1k = 0.0010
completion_per_1k = 0.0160

[pricing.models."gpt-5"]
prompt_per_1k = 0.00125
cached_prompt_per_1k = 0.000125
completion_per_1k = 0.0100

[pricing.models."gpt-5-codex"]
prompt_per_1k = 0.00125
cached_prompt_per_1k = 0.000125
completion_per_1k = 0.0100

[pricing.models."gpt-5.1-2025-11-13"]
prompt_per_1k = 0.00125
cached_prompt_per_1k = 0.000125
completion_per_1k = 0.0100

[pricing.models."gpt-5.1-codex"]
prompt_per_1k = 0.00125
cached_prompt_per_1k = 0.000125
completion_per_1k = 0.0100

[pricing.models."gpt-5.2"]
prompt_per_1k = 0.00175
cached_prompt_per_1k = 0.000175
completion_per_1k = 0.0140

[pricing.models."gpt-5.2-2025-12-11"]
prompt_per_1k = 0.00175
cached_prompt_per_1k = 0.000175
completion_per_1k = 0.0140
