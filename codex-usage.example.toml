[server]
listen_addr = "127.0.0.1:8787"
public_base_path = "/v1"
upstream_base_url = "https://api.openai.com/v1"
# Override upstream_base_url with CODEX_USAGE_UPSTREAM_BASE_URL to keep Codex CLI free to set OPENAI_BASE_URL when targeting the proxy.

[storage]
database_path = "usage.db"
flush_interval_secs = 5

[display]
recent_events_capacity = 500
refresh_hz = 10

[pricing]
currency = "USD"
# Pricing entries seed the local prices table on first run (effective_from = today).
# Rates are expressed as USD per 1M tokens.

[pricing.models."gpt-4.1"]
prompt_per_1m = 2.0
cached_prompt_per_1m = 0.5
completion_per_1m = 8.0

[pricing.models."gpt-4.1-mini"]
prompt_per_1m = 0.4
cached_prompt_per_1m = 0.1
completion_per_1m = 1.6

[pricing.models."gpt-4.1-nano"]
prompt_per_1m = 0.1
cached_prompt_per_1m = 0.025
completion_per_1m = 0.4

[pricing.models."gpt-4o-2024-08-06"]
prompt_per_1m = 2.5
cached_prompt_per_1m = 1.25
completion_per_1m = 10.0

[pricing.models."gpt-4o-mini-2024-07-18"]
prompt_per_1m = 0.15
cached_prompt_per_1m = 0.075
completion_per_1m = 0.6

[pricing.models."o4-mini"]
prompt_per_1m = 4.0
cached_prompt_per_1m = 1.0
completion_per_1m = 16.0

[pricing.models."gpt-5"]
prompt_per_1m = 1.25
cached_prompt_per_1m = 0.125
completion_per_1m = 10.0

[pricing.models."gpt-5-codex"]
prompt_per_1m = 1.25
cached_prompt_per_1m = 0.125
completion_per_1m = 10.0

[pricing.models."gpt-5.1-2025-11-13"]
prompt_per_1m = 1.25
cached_prompt_per_1m = 0.125
completion_per_1m = 10.0

[pricing.models."gpt-5.1-codex"]
prompt_per_1m = 1.25
cached_prompt_per_1m = 0.125
completion_per_1m = 10.0

[pricing.models."gpt-5.2"]
prompt_per_1m = 1.75
cached_prompt_per_1m = 0.175
completion_per_1m = 14.0

[pricing.models."gpt-5.2-2025-12-11"]
prompt_per_1m = 1.75
cached_prompt_per_1m = 0.175
completion_per_1m = 14.0
